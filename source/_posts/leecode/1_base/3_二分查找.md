---
title: "二分查找"
date: 2026-1-27 10:00:00
tags: [刷题]
categories: [刷题]
comment: true
toc: true





---

#

<!--more-->



## 1. 排序数组中查找元素的第一个和最后一个位置

> -  给你一个按照非递减顺序排列的整数数组 `nums` ，和一个目标值 `target`。请你找出给定目标值在数组中的开始位置和结束位置。如果数组中不存在目标值 ，返回 `[-1, -1]`。  你必须设计并实现时间复杂度为 `O(log n)` 的算法解决此问题。 
>
> - ```
>   输入：nums = [5,7,7,8,8,10], target = 8
>   输出：[3,4]
>   ```

```python
class Solution:
    def searchRange(self, nums: List[int], target: int) -> List[int]:
        res=[-1,-1] #start为第一个>=targe的数，end为第一个>=target+1的数的位置-1
        res[0] = self.lowerbound3(nums,target)
        # 如果查找不到
        if res[0] >= len(nums) or nums[res[0]] != target:
            return [-1,-1]
        res[-1] = self.lowerbound3(nums,target+1) - 1
        return res
    def lowerbound1(self, nums: List[int], target: int) -> List[int]: #闭区间
        left,right=0,len(nums)-1
        while left<=right:
            mid = left + (right - left) //2
            if nums[mid] < target:
                left = mid + 1
            else:
                right = mid - 1
        return left
    def lowerbound2(self, nums: List[int], target: int) -> List[int]: #左闭右开
        left,right=0,len(nums)
        while left<right: #区间不为空，left<right
            mid = left + (right - left) //2
            if nums[mid] < target:
                left = mid + 1
            else:
                right = mid
        return left
    def lowerbound3(self, nums: List[int], target: int) -> List[int]: #开区间
        left,right=-1,len(nums)
        while left+1<right:
            mid = left + (right - left) //2
            if nums[mid] < target:
                left = mid
            else:
                right = mid
        return right
```

