1. 高斯分组，使用gaussian grouping（gaussian grouping eccv2024）的方法，在3dgs训练的过程中对每一个视角的gt图使用sam+deva得到每张图的分割图，分割图里面有每个像素的group id， 且多视图之间是保持一致的。   
2.  在这种3dgs的基础上进行两阶段训练，  第一阶段取一些关键帧，通过sd+ipadapter+controlnet对其分别进行图像风格迁移，得到监督图，（每个监督图沿用上一步的group id图），在风格迁移过程中为了保持3d一致性采取如下两个操作：1）用DDIM inversion得到关键帧的XT（gaussianctr eccv 2024）， 2）跨视角注意力，在第一阶段训练时，假设取了10帧，将这10帧的feature concat到一起，在计算某一帧的时候（比如关键帧3），将关键帧3的feature作为q，所有关键帧的feature作为kv，以此计算注意力， 这样得到关键帧的风格化结果作为监督图。    
3. 第二阶段进行3dgs训练，该阶段只训练颜色参数，使用的损失函数是：NNFM（局部），主要差别在于NNFM损失的计算：假设某一步训练迭代采样到视角2， 关键帧是（1，10，20，30，....，100），根据3dgs对视角2渲染得到渲染图和渲染的group id图。  遍历group id图进行求和：  对于像素i，从十张关键帧的group id图里面遍历像素寻找与之groupid相等的像素，然后在这些像素集合里面寻找vgg特征与之最接近的那个像素（cosin距离），计算这两个像素之间的cosine距离纳入到累加器，然后继续遍历当前视图的第二个像素......。所有的最小距离求和平均得到局部NNFM损失。  根据最终损失优化颜色参数。